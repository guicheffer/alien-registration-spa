/*- ‚≠êÔ∏è Aliens list style
 *
-*/

@import 'container';
@import 'spacing';

list() {
  height: 100%;
  margin: 0;
  width: 100%;

  .list {
    &__wrapper { position: relative; }

    &__table {
      $max-height = 400px;
      $min-height = 80px;
      $shadow-size = $spacing-small;

      border-radius: $spacing-xxsmall;
      border: 1px solid $white-base;
      margin: $spacing-large 0 0;
      min-height: $min-height;
      padding: ($spacing-xlarge + $spacing-xxsmall) $spacing-xsmall $spacing-xsmall;
      position: relative;
      width: 100%;

      &.scrollable {
        $height = $spacing-base;

        &::after {
          content: '';
          height: $height;
          left: 0;
          position: absolute;
          width: 100%;
          z-index: 10;
        }

        &--bottom::after {
          background: linear-gradient(hsla(0,0%,100%,.001), $gray-opaque $shadow-size);
          bottom: 0;
        }

        &--top::after {
          background: linear-gradient(to top, hsla(0,0%,100%,.001), $gray-opaque $shadow-size);
          height: $spacing-xxlarge;
          top: 0;
        }
      }

      .table {
        &__scrollable {
          max-height: $max-height;
          overflow-y: scroll;
        }

        &__itself {
          width: 100%;

          @keyframes show-just-inserted {
            0% {
              background: $white-base;
              opacity: 0;
            }
            100% {
              background: none;
              opacity: 1;
            }
          }

          tr {
            opacity: 1;

            &[data-just-inserted=true] { animation: show-just-inserted 1s ease-out; }
          }

          th:not(:first-child),
          td:not(:first-child) { text-align: center; }

          th {
            border: none;
            color: transparent;
            line-height: 0;
            padding-bottom: 0;
            padding-top: 0;
            padding-top: 0;
            user-select: none;
            white-space: nowrap;

            &:first-child {
              $width = 160px;

              width: $width;

              div { margin-left: ($spacing-xxlarge * -1) }
            }

            div {
              background: transparent;
              color: $white-base;
              line-height: normal;
              margin-left: ($spacing-xlarge * -1);
              padding: $spacing-small $spacing-xxlarge;
              position: absolute;
              top: 0;
              z-index: 20;

              span { font-size: $font-size-small; }
            }
          }

          td {
            &:first-child { cursor: default; }

            &:not(:first-child) { padding: $spacing-xxsmall $spacing-base; }

            &[colspan] {
              color: $red-base;
              padding: $spacing-small;
            }

            &.table__delete-it {
              position: relative;
              width: $spacing-xxxlarge;

              & > a,
              & > p { position: absolute; }

              & > a {
                transition: transform .2s ease-in-out;

                &:hover { transform: rotateZ(-90deg); }
              }

              & > p { padding-left: $spacing-xxsmall; }

              &, a { font-size: $font-size-small; }
            }
          }

          a { font-weight: $font-weight-bold; }
        }
      }
    }


    &__warning {
      display: block;
      margin: $spacing-small 0 $spacing-xlarge;
      text-align: right;
      width: 100%;

      a {
        color: $yellow-base;
        font-size: $font-size-small;
        padding-left: $spacing-large - $spacing-xxsmall;
        position: relative;

        &:hover { text-decoration: underline; }
        &::before {
          content: '‚ö†Ô∏è';
          left: 0;
          margin-right: $spacing-xxsmall;
          position: absolute;
        }
      }
    }

    &__links {
      bottom: 0;
      display: flex;
      flex-direction: row;
      justify-content: flex-end;
      margin: $spacing-large 0 0;
      position: relative;
      right: 0;
      user-select: none;
    }

    &__link {
      margin: 0 $spacing-small 0 0;

      a {
        color: $blue-action;

        &:hover { text-decoration: underline; }

        &::before {
          content: 'üëΩ';
          float: left;
          font-size: $font-size-small;
          margin-right: $spacing-xxsmall;
          width: $spacing-base;
        }

        &[disabled] {
          color: $gray-base;
          font-weight: $font-weight-bold;
          pointer-events: none;

          &::before { content: 'üëæ'; }
        }
      }

      &:last-child { margin-right: 0; }
    }
  }
}

list-responsive() {
  +mq-large-up() {
    height: auto;
    margin: auto;
    width: auto;

    .list {
      &__wrapper {
        flex: 1;
        margin-left: $spacing-large;
      }

      &__table {}
    }
  }
}
